function load_novalnet_payment_iframe(){var e=jQuery("#nn_client_key").val();NovalnetUtility.setClientKey(e);var n={callback:{on_success:function(e){return document.getElementById("cc_pan_hash").value=e.hash,document.getElementById("nn_unique_id").value=e.unique_id,document.getElementById("nn_cc_do_redirect").value=e.do_redirect,$("#xt_novalnet_cc_iframe").closest("form").submit(),!0},on_error:function(e){if(console.log(e),void 0!==e.error_message)return jQuery("#xt_novalnet_cc_server_error_message").val(e.error_message),$("#xt_novalnet_cc_iframe").closest("form").submit(),!1},on_show_overlay:function(e){document.getElementById("xt_novalnet_cc_iframe").classList.add("novalnet-challenge-window-overlay")},on_hide_overlay:function(e){document.getElementById("xt_novalnet_cc_iframe").classList.remove("novalnet-challenge-window-overlay")}},iframe:{id:"xt_novalnet_cc_iframe",inline:$("#nn_cc_inline_form").val(),style:{container:jQuery("#nn_standard_css").val(),input:jQuery("#nn_standard_input").val(),label:jQuery("#nn_standard_label").val()},text:{error:jQuery("#nn_card_details_error_text").val(),card_holder:{label:$("#nn_card_holder_text").val(),place_holder:$("#nn_card_holder_input").val(),error:$("#nn_card_name_error_text").val()},card_number:{label:$("#nn_card_no_text").val(),place_holder:$("#nn_card_no_input").val(),error:$("#nn_card_no_error_text").val()},expiry_date:{label:$("#nn_card_exp_date_text").val(),error:$("#nn_card_month_year_error_text").val()},cvc:{label:$("#nn_card_cvc_text").val(),place_holder:$("#nn_card_cvc_input").val(),error:$("#nn_card_cvv_error_text").val()}}},customer:{first_name:jQuery("#nn_first_name").val(),last_name:jQuery("#nn_last_name").val(),email:jQuery("#nn_email").val(),billing:{street:jQuery("#nn_billing_street").val(),city:jQuery("#nn_billing_city").val(),zip:jQuery("#nn_billing_zip").val(),country_code:jQuery("#nn_billing_country_code").val()},shipping:{same_as_billing:jQuery("#nn_same_as_billing").val(),first_name:jQuery("#nn_shipping_first_name").val(),last_name:jQuery("#nn_shipping_last_name").val(),email:jQuery("#nn_shipping_enail").val(),street:jQuery("#nn_shipping_street").val(),city:jQuery("#nn_shipping_city").val(),zip:jQuery("#nn_shipping_zip").val(),country_code:jQuery("#nn_shipping_country_code").val()}},transaction:{amount:jQuery("#transaction_amount").val(),currency:jQuery("#shop_currency").val(),test_mode:jQuery("#nn_test_mode").val()},custom:{lang:jQuery("#shop_lang").val()}};NovalnetUtility.createCreditCardForm(n)}function loadJQueryAndExecute(e){if("undefined"!=typeof jQuery)$(document).ready(e);else{const n=document.createElement("script");n.src="plugins/xt_novalnet_cc/javascript/xt_novalnet_jquery.js",n.type="text/javascript",n.onload=function(){$(document).ready(e)},document.head.appendChild(n)}}loadJQueryAndExecute((function(){$("#nn_new_card_link").click((function(e){$("#nn_given_card_div").hide(),$("#nn_new_card_div").show(),$("#xt_novalnet_cc_one_click_process").val(""),load_novalnet_payment_iframe(),e.stopImmediatePropagation()})),$("#nn_given_card_link").click((function(e){$("#nn_new_card_div").hide(),$("#nn_given_card_div").show(),$("#xt_novalnet_cc_one_click_process").val("1"),e.stopImmediatePropagation()})),$("#xt_novalnet_cc_iframe").closest("li").click((function(){load_novalnet_payment_iframe()})),load_novalnet_payment_iframe(),jQuery("#xt_novalnet_cc_iframe").closest("form").submit((function(e){"xt_novalnet_cc"!=("hidden"==jQuery("input[name='selected_payment']").attr("type")?jQuery("input[name='selected_payment']").val():jQuery("input[name='selected_payment']:checked").val())||""!=jQuery("#cc_pan_hash").val()||""!=jQuery("#xt_novalnet_cc_server_error_message").val()||null!=jQuery("#nn_given_card_div").css("display")&&"block"==jQuery("#nn_given_card_div").css("display")||(NovalnetUtility.getPanHash(),e.preventDefault(),e.stopImmediatePropagation())}))}));